<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Avista ‚Äî Destiny V2</title>
<style>
body{
  margin:0; font-family:"Segoe UI",Arial,sans-serif; color:#f5f5f5;
  min-height:100vh;
  background:
    linear-gradient(rgba(15,7,35,0.85), rgba(15,7,35,0.85)),
    url("banniere.jpg") center / cover no-repeat fixed;
}

/* HEADER */
.header{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:50px 20px 20px;
  gap:15px;
}
.header img{
  width:50px; height:50px;
}
.header h1{
  margin:0;
  font-size:32px;
  background: rgba(76,29,149,0.75);
  padding:12px 20px; border-radius:18px;
  box-shadow:0 15px 40px rgba(0,0,0,0.5);
}

/* FORMULAIRE */
.wrapper{
  max-width:900px;
  margin:auto;
  padding:40px 25px 80px;
  background: rgba(76,29,149,0.85);
  border-radius:20px;
  backdrop-filter: blur(8px);
  box-shadow:0 25px 70px rgba(0,0,0,0.6);
}

label{
  display:block; margin:20px 0 8px; font-weight:600;
}
input, textarea{
  width:100%; background:#6b21a8; border:1px solid #d946ef;
  border-radius:12px; padding:14px; color:#fff; font-size:15px;
}
textarea{ min-height:90px; resize:vertical; }
input::placeholder, textarea::placeholder{ color:#e9d5ff; }

/* DECISION */
.decision{
  display:flex; gap:20px; margin-top:15px;
}
.decision button{
  flex:1; padding:16px; font-size:16px; border-radius:14px;
  border:none; cursor:pointer; opacity:0.55; transition:0.2s; font-weight:700;
}
.decision button.active{ opacity:1; transform:scale(1.03); }
.up{ background: linear-gradient(135deg,#16a34a,#22c55e); color:white; }
.demote{ background: linear-gradient(135deg,#dc2626,#ef4444); color:white; }

/* BOUTONS */
.send, #gotoAvis{
  margin-top:30px; width:100%; padding:16px; font-size:18px;
  border-radius:50px; border:none; cursor:pointer;
  background: linear-gradient(135deg,#9333ea,#db2777);
  color:white; box-shadow:0 15px 40px rgba(0,0,0,0.5);
  transition:0.3s;
}
.send:hover, #gotoAvis:hover{ transform:scale(1.03); opacity:0.95; }

/* FOOTER */
.signature{ position:fixed; bottom:10px; right:15px; opacity:0.7; font-size:13px; }
</style>
</head>

<body>

<div class="header">
  <img src="logo.png" alt="Logo">
  <h1>Avista ‚Äî Destiny V2</h1>
</div>

<div class="wrapper">
  <label>üë§ Staff</label>
  <input id="staff" placeholder="Nom du staff">

  <label>üé≠ R√¥le</label>
  <input id="role" placeholder="R√¥le actuel">

  <label>üìù Avis global</label>
  <textarea id="avis" placeholder="Avis g√©n√©ral"></textarea>

  <label>üü¢ Points positifs</label>
  <textarea id="positif" placeholder="Une ligne = un point"></textarea>

  <label>üü† √Ä am√©liorer</label>
  <textarea id="ameliorer" placeholder="Une ligne = un point"></textarea>

  <label>üìä D√©cision</label>
  <div class="decision">
    <button class="up" onclick="setDecision('UP', this)">UP</button>
    <button class="demote" onclick="setDecision('DEMOTE', this)">DEMOTE</button>
  </div>

  <button class="send" onclick="envoyer()">Envoyer l'avis</button>
  <button id="gotoAvis" onclick="window.location.href='avis.html'">Voir tous les avis</button>
</div>

<div class="signature">site cr√©√© par Welonyx</div>

<script>
let decision="";
function setDecision(val, el){
  decision=val;
  document.querySelectorAll(".decision button").forEach(b=>b.classList.remove("active"));
  el.classList.add("active");
}

function envoyer(){
  if(!decision){ alert("Merci de choisir UP ou DEMOTE."); return; }

  const avisList = JSON.parse(localStorage.getItem("avis_staff") || "[]");
  avisList.push({
    staff: staff.value,
    role: role.value,
    avis: avis.value,
    positif: positif.value,
    ameliorer: ameliorer.value,
    decision: decision,
    date: new Date().toLocaleString(),
    commentaires:[]
  });

  localStorage.setItem("avis_staff", JSON.stringify(avisList));
  window.location.href="avis.html";
}
</script>

</body>
</html>
